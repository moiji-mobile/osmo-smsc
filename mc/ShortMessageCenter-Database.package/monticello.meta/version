(name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.34' message 'db: Store a messageType with the encoded message* We will not only store  DeliverSM but anything so we need to store the messageType* Update test cases and rename the test.Complexity has been going up.' id '7e5551df-a115-43c5-a32c-cfe469df3990' date '18 March 2016' time '4:33:03.722054 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.33' message 'Allow to configure the role (as symbol)This requires the new SMPP release and is needed to make the decision to route as SubmitSM or DeliverSM depending on the destination.' id '0be3b0fa-4c56-4e9f-af41-dd3d40c01dde' date '16 March 2016' time '5:23:24.046853 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.32' message 'SS7 links. Allow to specify the SSNFor the SRI and later forwardSM we should be able to define the SSN we want to use. Some systems only answer SRIForSM for a specific ssn.' id '00b3b9ff-4f07-4679-9a7f-ad106c430358' date '24 February 2016' time '10:04:56.727174 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.31' message 'ShortMessageDatabase add unlock and incrementing  of attemptsFor the delivery we need to count how often we tried to deliver and and we need to reschedule the delivery in the future. Right now this is 30 minutes from now.' id '0d2a85b8-fbb1-4c68-a0c0-fa749057efea' date '23 February 2016' time '10:05:53.183098 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.30' message 'ShortMessageDatabase fix regression and add test and removal modeThe in-image Komitter seems to fail and I can''t split the two hunks right now (*sigh*). For the testDeliveryFunction test we will need to set the port as well. We can''t avoid that anymore.Add >>#removeSms: used by the delivery. Sent SMS need to be removed to not have the DB grow beyond unrasoanble size.Add test delivery method used for testing.' id 'c2ee509a-82ad-4ec8-9498-ff4b637de3de' date '23 February 2016' time '5:46:20.734795 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.29' message 'Use a SmallDictionary to always have a defined orderJust to be sure use a SmallDictionary which will keep the insertion order that is important for the later BSON conversion.' id '945b4bc7-61ba-4fd4-9b3a-35934d1c5a6f' date '22 February 2016' time '3:54:30.278813 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.28' message 'Test that the longest matching route will be pickedAdd testcase that the longest matching route will be chosen.' id '7b10b0ae-6887-451a-b3be-8205b1caca90' date '22 February 2016' time '1:01:36.384187 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.27' message 'Insert sourceMSISDN and add routing look-up* In case ''default'' is set don''t expect a prefix to be present* Extract the sourceMSISDN and store it* Add routing look-up code' id '77c670ad-eb19-425e-94e2-3ba8dd969111' date '18 February 2016' time '9:59:45.584578 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.26' message 'Try to be somehow stable in the way we select messagesWe have a 64bit timestamp and let us sort by it. This should add some stability to the order we select SMS for delivery.
' id 'df63a98a-760f-54d6-a911-92d29d0ff96c' date '17 February 2016' time '12:41:15 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.25' message 'Provide interfaces to list, add, update, remove routesModify the code to offer serialization for objects not being a link. The actual serializer/matrializer can not be shared right now because of \"connectionName\" != \"routeName\" and I didn''t just want to call it \"name\"
' id '5899b663-0b7b-5d09-ae51-5e17184300bb' date '15 February 2016' time '2:23:46 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.24' message 'Allow to configure a routeA route has a sourceAddressPrefix, a destinationAddressPrefix, an optional systemId, a mark if it is a default route or not. As part of the route we have a list of methods that select the delivery method.
' id '19d11c58-185b-58a7-a76a-301d3655b825' date '15 February 2016' time '11:00:39 am' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.23' message 'Add system tests to test link life-cycle with the new systemThis adds a system test that tests, creating, updating, removing and finding of a link. The REST interface is built on top of  these primitives.
' id 'bcfaed06-81a3-5965-b42a-18d52e1a7fc4' date '14 February 2016' time '7:30:41 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.22' message 'Attempt to restructure the REST/O&M DB code and add more link management
' id '41f40e72-1045-56f0-bae1-f9e6a5e2caba' date '14 February 2016' time '6:43:27 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.21' message 'Introduce a second parameter to remember where something was from.This will be used to have a routing decision and the SMSC delivery can use this to put \"report\" to mark a report  and have it routed through SMPP instead of normal MAP.
' id '538617d3-f613-5776-b014-ace45019f026' date '11 February 2016' time '9:42:44 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.20' message 'Begin with a ShortMessageDatabase to manage SMPP links in itThis time we don''t want a user to write Smalltalk code to configure a link instead we will use the database to store the config and have a REST service to manipulate it.
' id '77257bf1-6dae-5999-add6-e9ab9cfd369e' date '11 February 2016' time '8:34:19 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.19' message 'Add logging, expiresIn is a Duration so fix that as well
' id '984955f2-aa80-53b8-870d-a522b26c8ecb' date '8 February 2016' time '4:16:48 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.18' message 'Begin with a log area for the database code
' id 'a4aac21e-41b8-5731-a7f0-4e8e48a14cc6' date '8 February 2016' time '3:37:46 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.17' message 'Check we actually have a DateAndTime and do some math on itWe don''t want this test to depend too much on the execution speed and this mostly tests the >>#- and >>#asDuration the client code will execute.
' id 'ce78632f-f42a-5349-9516-2c47eaa69388' date '7 February 2016' time '9:40:25 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.16' message 'Implement a primitive that determines how long we want to waitIf nothing else happens we want to sleep until the closest event time. Have a look at how long it is.
' id '218eca18-c5a9-52fc-a158-65c105c30b00' date '7 February 2016' time '9:37:01 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.15' message 'Implement locking the next item and stealing a lockCheck we can lock multiple elements and steal the lock. At the end stay with the same dest number.
' id 'afdeabb9-a5fa-5c0f-9db6-7fa55949bc93' date '7 February 2016' time '9:00:08 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.14' message 'Test output does not print line numbers  so use the descriptionMaybe this is providing a better output in the CI code. Using version 3.0 on the server during ci is fixing the issue right now as well.
' id '5f7161fe-0502-5a68-81d0-3ff4eb4553d1' date '7 February 2016' time '8:22:48 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.13' message 'Attempt to track test failure on mongodb v2.4 on travis-ci
' id '745d5fcb-0fe0-504f-9dc7-a58cadd7655e' date '7 February 2016' time '8:15:54 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.12' message 'Allow to reject certain destination for a searchE.g. if finding a destination has failed to lock, allow to search somewhere else by rejecting this destination. This way a user will not busy loop over the same record.
' id 'e6615da2-c7f9-53ef-ab00-044af9568d72' date '7 February 2016' time '8:07:58 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.11' message 'Implement the second part of the double lock strategyAcquire a destination lock to avoid two systems picking up a message for the same destination. Only one can have an item in the state of \"lock=1\".
' id 'c62f778a-3cff-555b-bdd4-3978a29369b6' date '7 February 2016' time '7:25:13 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.10' message 'Add method to lock/unlock a SMS and record time.
' id 'bf55e215-3712-529b-a268-69e40b9600e8' date '5 February 2016' time '8:16:58 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.9' message 'Add test for positing a notification to the capped collection
' id '5eb7b9ca-841d-5da5-8f53-99fcafe325a5' date '5 February 2016' time '7:08:35 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.8' message 'Test work pending as wakeup result as well
' id '610e71af-77d4-5640-a5fc-91f582ff9fcf' date '5 February 2016' time '7:03:55 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.7' message 'Be specific about the result of waiting and test for it.
' id 'af2aa29f-3f3b-5ef8-a2e0-f69582ebc95d' date '5 February 2016' time '7:02:17 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.6' message 'Add test for pending with now time.
' id 'b6f103ba-d62c-5cbe-81c3-cfcb3c92c9cc' date '5 February 2016' time '6:26:44 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.5' message 'Make the entire interface work with durationsIt doesn''t make sense to have the deliverIn work as a Duration but expiration being absolute.
' id '544fbec5-a8d1-54c5-aa2a-23e87236a46f' date '5 February 2016' time '6:20:46 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.4' message 'Begin with a first systemtestThere is no point in calling this a unittest. It requires a database and I don''t want to write a mock layer for mongodb.
' id '3012bb35-ac59-52b1-ac51-99701ba9e282' date '5 February 2016' time '6:15:15 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.3' message 'Implement and manually test some core DB routines.
' id 'e1ebc2f8-74c0-5827-b7b5-b6d5cd51f880' date '2 February 2016' time '9:42:34 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.2' message 'Make this a generic event/db interface for the database
' id 'd7656214-a55b-59e1-a1fd-a0ffc33199d9' date '20 January 2016' time '8:52:59 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Database-HolgerHansPeterFreyther.1' message 'Begin with the central database interface
' id 'af47d372-bd7f-5d87-95d7-86c0f5aa2abc' date '20 January 2016' time '8:38:53 pm' author 'HolgerHansPeterFreyther' ancestors () stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())(id '984955f2-aa80-53b8-870d-a522b26c8ecb')) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())