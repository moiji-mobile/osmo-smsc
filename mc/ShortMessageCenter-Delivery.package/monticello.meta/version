(name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.23' message 'delivery: Remove garbage from last mergeIt re-added two methods that should have been deleted. Delete them again.' id '5348e5fa-da5f-4722-b80d-85745722e978' date '28 May 2016' time '11:18:54.353376 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.22' message 'delivery: Merge submit/deliver conversion according to messageTypeThis has been sitting in this image since March and I wondered where  the code is. Merge ti to master of the delivery handling and the merge looks fine.Right now there will always be a re-encoding even on DeliverSM to DeliverSM and this is a source of incompabilities in case of SMPP dialects or extensions. The SMPP Codec should be more forgiven on parsing.' id 'fc4c546d-1a10-488f-be0c-e923c0528a00' date '28 May 2016' time '11:14:41.172167 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.16' message 'delivery: Do the conversion at the time of the sendingThe code right now converts from encoding to deliver sm before sending. The SMPP code might  take advantage if everything is correctly encoded but right now we load, convert and then encode it again.' id '6458b9bb-defb-45dd-82bd-6e5fdeaa893c' date '18 March 2016' time '6:35:24.676503 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.15' message 'Add simple test for SMPP forwardingAdd very simple test for the smpp forwarding code.' id '4ed5121e-3c37-4c9a-bb8e-ac177e0a271d' date '29 February 2016' time '8:20:34.740472 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.14' message 'Copy v2 delivery test and update to v3Make a simple tets with V3. The change is quite small so I don''t we will test all of them.' id 'dd351b87-8535-47bf-84c3-aa2898180b14' date '29 February 2016' time '7:22:05.820263 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.13' message 'And use TC-continue and TC-end to test delivery through same dialogueVerify that we can delivery through the same dialogue as well. What we are still missing is a test to verify that the dialogue will always go away.' id '641f92ba-f5ba-418f-8ca6-76157f69e5b7' date '29 February 2016' time '1:09:16.342413 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.12' message 'Add test case with two messages and ending after each messageIn case the remote MSC does not keep the TCAP dialogue open I expected the onEnd handler to be called before the components are dispatched but that does not seem to be the case. I created the OW#1583 ticket for it and as a workaround I check if the current state allows me to forward.' id 'f0d98352-c147-4d06-a3f5-6c1e76ab4c85' date '29 February 2016' time '1:01:52.077724 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.11' message 'Add test for the first delivery and fix the codeIt is forwardSMName and not forwardSM. Add a very simple success test.' id '8eda41a6-a7bd-47c8-ad17-0cf4f4f2aa63' date '29 February 2016' time '12:19:32.80007 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.10' message 'Add short test to format the deliver 03.40 messageTest it can be formatted and will be parsed as part of the sending.' id 'da181d36-a4f7-4d91-9e12-36f06344a623' date '25 February 2016' time '8:12:30.058504 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.9' message 'Combine the error handling for SRIForSM errors' id 'fead85d7-2311-46d3-861d-e2f005260848' date '25 February 2016' time '3:48:39.512705 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.8' message 'Begin with a test, fix the pendingMessages handlingpendingMessages would be manipulated by deliveredMessage: too and we should avoid going through it twice. Check for size == 1 so we know we deal with the last SMS.' id 'e9ad832c-e447-453d-9c9f-3f8e25f745f5' date '25 February 2016' time '3:24:39.309444 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.7' message 'Initial untested/raw version of the SS7 deliveryWe want to be able to deliver as many messages through a TCAP dialogue as possible. We only remove from pendingMessages after success/failure. We have a hardcoded limit for doing a TCAP handshake.' id 'b5087257-8452-41e1-9b10-fc66ba3031e8' date '24 February 2016' time '10:09:22.329125 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.6' message 'First (untested) delivery method for SMPPCreate a delivery method for SMPP. This will send/schedule all messages at the same time as it expect another system will handle the ordering. This requires the new SMPPBinaryCommand and assumes that the encoded message is really a DeliverSM message.There is the topic of if a report should be generated and it is deferred as OS#1623.' id '0bb886a6-aec4-43b5-a020-b8dbda648326' date '24 February 2016' time '2:52:40.085508 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.5' message 'Work on delivery and test the actual deliveryUse the test method to check boilerplate code around the delivery. Check that delivery attempt and scheduled time are increased. The deliveryGroup handling will remove messages that either failed (subscriber not present) or at the end when nothing has been delivered.' id '846ff29c-3601-406c-a8db-d406d39a50e3' date '23 February 2016' time '10:19:05.339276 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.4' message 'Extend the test and check the lock stealing to some degreeWe don''t see which SMS has been now locked but that is most likely dependent on the database so it does not make much sense.' id 'b032d8a1-8d3b-480a-9ea9-cf26b6122183' date '19 February 2016' time '6:59:00.027361 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.3' message 'Test and fix the SMS selection modeAdd a testcase to the selectMessages routine. Verify that the locking is working and the second destination is not selected.' id 'a1bbe909-02d5-46d7-a298-96bf2fc7b010' date '19 February 2016' time '6:52:52.148074 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.2' message 'Move forward with the delivery handlingRight now the application should be startable, it should load all links and start them. It should start several worker processes. The eventloop should work as well. The delivery process will load messages and now group them according to the routes of each message.What is missing is the actualy delivery, the unlocking of  not delivered SMS and such. This is what to do next.' id 'ef214ec4-8595-4dca-b712-1be06df01f7f' date '19 February 2016' time '2:51:30.187781 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.1' message 'Add first commit of the delivery node.This is not complete yet but will do delivery using SMPP or SS7 based on some yet to be defined routes.' id '5d3cd55b-a424-4839-867c-8d404d031a22' date '10 February 2016' time '10:50:09.488215 am' author 'HolgerHansPeterFreyther' ancestors () stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())(name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.21' message 'delivery: Deal with no messages in the DBIn case there are no messages in the DB, this would just start to spin as quickly as possible. >>#at: would be sent to nil, the DNU caught by the module boundary and then re-tried.Change the code and make the sleep time configurable (with current MongoDB one wakes up early anyway) and create a testcase that is passed when no exception occurs.
' id 'caf008b2-3bb8-54aa-8256-06fde2c8936b' date '28 May 2016' time '11:01:38 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.20' message 'delivery: Fix string concatinationFix the string concatination of the process name. I just tried to spawn the delivery system the first time.
' id '6c66efbd-c87c-5644-962e-5dddb095e751' date '28 May 2016' time '10:30:58 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.19' message 'Kill some inst vars, close mongo earlyClean-up the central and remove some inst variables.
' id '86cff39b-0a68-52e0-ab87-3c6345339773' date '28 May 2016' time '5:28:25 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.18' message 'delivery: Attempt to fix starting it* Separate om and smsc database* Do not load all routes, we resolve at runtime
' id '78566034-a2a8-5bf9-9f04-3669871c61dd' date '28 May 2016' time '5:24:41 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.17' message 'Fix typo in selector namePharo5 highlighted this badly and the selector is called differently. Fix it and it highlights the next area of work.
' id 'd9b0f67b-bcc0-5e68-a8db-88f120212312' date '27 May 2016' time '8:35:55 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.16' message 'delivery: Do the conversion at the time of the sendingThe code right now converts from encoding to deliver sm before sending. The SMPP code might  take advantage if everything is correctly encoded but right now we load, convert and then encode it again.
' id 'e75587c5-bd4c-5550-932a-4b1846d7f85c' date '18 March 2016' time '6:35:26 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.15' message 'Add simple test for SMPP forwardingAdd very simple test for the smpp forwarding code.
' id 'db698125-ce85-5646-a631-0bbbafe318b8' date '29 February 2016' time '8:20:36 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.14' message 'Copy v2 delivery test and update to v3Make a simple tets with V3. The change is quite small so I don''t we will test all of them.
' id '5835f056-cfa5-59c6-a5f7-5a6d02d86ce6' date '29 February 2016' time '7:22:07 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.13' message 'And use TC-continue and TC-end to test delivery through same dialogueVerify that we can delivery through the same dialogue as well. What we are still missing is a test to verify that the dialogue will always go away.
' id 'c71e7d29-723d-5828-b786-74837419efbd' date '29 February 2016' time '1:09:17 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.12' message 'Add test case with two messages and ending after each messageIn case the remote MSC does not keep the TCAP dialogue open I expected the onEnd handler to be called before the components are dispatched but that does not seem to be the case. I created the OW#1583 ticket for it and as a workaround I check if the current state allows me to forward.
' id 'fd94b39b-5da9-5aa1-bac6-a08fe1cb416c' date '29 February 2016' time '1:01:53 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.11' message 'Add test for the first delivery and fix the codeIt is forwardSMName and not forwardSM. Add a very simple success test.
' id 'f2cc652c-ad0d-5f4a-93bf-4d1225a639df' date '29 February 2016' time '12:19:34 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.10' message 'Add short test to format the deliver 03.40 messageTest it can be formatted and will be parsed as part of the sending.
' id '6326c684-4ccc-53b2-b81b-fd4797506d43' date '25 February 2016' time '8:12:32 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.9' message 'Combine the error handling for SRIForSM errors
' id '9b5193e9-5c7d-5fa1-ac0c-f80fa88d9054' date '25 February 2016' time '3:48:41 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.8' message 'Begin with a test, fix the pendingMessages handlingpendingMessages would be manipulated by deliveredMessage: too and we should avoid going through it twice. Check for size == 1 so we know we deal with the last SMS.
' id 'e64505dd-99e0-5e4e-90d6-a62798f3a1c5' date '25 February 2016' time '3:24:41 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.7' message 'Initial untested/raw version of the SS7 deliveryWe want to be able to deliver as many messages through a TCAP dialogue as possible. We only remove from pendingMessages after success/failure. We have a hardcoded limit for doing a TCAP handshake.
' id '161f4acb-6025-58c1-9a54-a969565a4c02' date '24 February 2016' time '10:09:24 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.6' message 'First (untested) delivery method for SMPPCreate a delivery method for SMPP. This will send/schedule all messages at the same time as it expect another system will handle the ordering. This requires the new SMPPBinaryCommand and assumes that the encoded message is really a DeliverSM message.There is the topic of if a report should be generated and it is deferred as OS#1623.
' id 'e95eb88c-b6b7-5abe-80e3-8a28465c08dd' date '24 February 2016' time '2:52:41 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.5' message 'Work on delivery and test the actual deliveryUse the test method to check boilerplate code around the delivery. Check that delivery attempt and scheduled time are increased. The deliveryGroup handling will remove messages that either failed (subscriber not present) or at the end when nothing has been delivered.
' id '0052be45-3943-5469-b982-fc54445338b3' date '23 February 2016' time '10:19:07 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.4' message 'Extend the test and check the lock stealing to some degreeWe don''t see which SMS has been now locked but that is most likely dependent on the database so it does not make much sense.
' id 'c3eed388-2c33-5a04-a00f-5b2c3b3eb8ff' date '19 February 2016' time '6:59:01 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.3' message 'Test and fix the SMS selection modeAdd a testcase to the selectMessages routine. Verify that the locking is working and the second destination is not selected.
' id 'e0fa44bd-9da4-504b-a790-b6f69ea64edd' date '19 February 2016' time '6:52:53 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.2' message 'Move forward with the delivery handlingRight now the application should be startable, it should load all links and start them. It should start several worker processes. The eventloop should work as well. The delivery process will load messages and now group them according to the routes of each message.What is missing is the actualy delivery, the unlocking of  not delivered SMS and such. This is what to do next.
' id '9b7eecb1-80b0-5147-9b64-ed45b2ce168d' date '19 February 2016' time '2:51:31 pm' author 'HolgerHansPeterFreyther' ancestors ((name 'ShortMessageCenter-Delivery-HolgerHansPeterFreyther.1' message 'Add first commit of the delivery node.This is not complete yet but will do delivery using SMPP or SS7 based on some yet to be defined routes.
' id '51c458e2-ac32-5862-acda-289cfeb1b61d' date '10 February 2016' time '10:50:10 am' author 'HolgerHansPeterFreyther' ancestors () stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())